#18.REST架构风格

从毕业设计误打误撞选了《RESTful架构webservice应用研究》这个课题，到现在也三年有多了。但直至目前，个人对REST的理解都还欠缺火候。随着知识的积累与深入，对同一个事务的认知都在变化。且让我把当前的想法记录下来，秋后才有账可算。：）

##18.1 什么是REST

__REST__，英文名叫__Representational State Transfer__，翻译为中文为__表述性状态转移__。okay，我们不要纠结与名词的含义，简而言之：REST就是利用__用户友好的URL风格__、利用现存的__HTTP动词__以及__HTTP相关的特性__来规范WebService接口。实际上它是一种交互数据的协议规范。

在REST之前，我们常用SOAP（简单对象访问协议）来作为数据交换的协议，几乎绝大部分的开发平台都支持SOAP，使用SOAP就可以实现跨平台进行数据的处理（当然，开发人员可以不使用SOAP而自行设计数据通信协议，但是这样做不利于跨平台、拓展以及让后期开发人员理解和使用，还要写一大推的API文档,GOD，当然，小型项目随你怎么搞,呵呵了）。但是，在某些场合使用SOAP确实是点杀鸡焉用牛刀的赶脚。于是乎，有个美国的小胖子就利用HTTP协议发明了REST。接着Web大行其道的东风，REST很顺利得走上了历史舞台。

当然，我并不认为REST是一种架构，我更认同它是一种__设计风格或理念__。当大家都遵循这样的设计理念后，那么拓展、跨平台、维护也就水到渠成了（API文档都不用写了，呵呵）。

##18.2 REST特性

REST是建立在HTTP之上的，所以REST的很多特征都与HTTP息息相关。

* 面向资源（Resource Oriented）
* 可寻址（Addressability）
* 连通性（Connectedness）
* 无状态（Statelessness）
* 统一接口（Uniform Interface）
* 超文本驱动（Hypertext Driven）

###18.2.1 面向资源（Resource Oriented）

面向资源是REST最明显的特征，__每个URI都唯一指向一个资源，同时一个资源可以由多个URI表示__。

例如`http://www.exmaple.com/book/1`指向了ID为1的book，我们也可以使用`http://www.xxx.com/book/1`指向该资源。于此同时，我们可以根据这种URI风格进行拓展，例如我们可以用`http://www.example.com/book/1/page/10086`来表示ID为1的书的10086页的资源。

仔细想想我们在没接触REST以前，我们的URI是怎么设计的，一般，我们都会使用动词加HTTP参数，例如：

```http
http://www.example.com/getBook?id=1
http://www.example.com/queryBook?id=1
http://www.example.com/getBookById?id=2

http://www.example.com/getPageOfBook?bookId=1&page=10086
http://www.example.com/getPage?bookId=1&page=10086
http://www.example.com/queryPage?bookId=2&pageNo=10086
```

###18.2.2 可寻址（Addressability）

###18.2.3 连通性（Connectedness）

###18.2.4 无状态（Statelessness）

###18.2.5 统一接口（Uniform Interface）

###18.2.6 超文本驱动（Hypertext Driven）

##18.3 URL设计

##18.4 REST优势

##18.5 参考资料

* http://www.infoq.com/cn/articles/understanding-restful-style
* http://www.ruanyifeng.com/blog/2011/09/restful.html
