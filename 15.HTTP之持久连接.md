# 15.HTTP之持久连接

```java
public static void main(String[] args) throws UnknownHostException, IOException {
	Socket socket = new Socket("localhost", 8080);

	BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(socket.getOutputStream()));

	new Thread(() -> {
		try {
			BufferedReader br = new BufferedReader(new InputStreamReader(socket.getInputStream()));

			String line = null;
			while ((line = br.readLine()) != null) { // 迭代输出的文本
				System.out.println(line);
			}

			br.close();
			bw.close();
			socket.close();
		} catch (Exception e) {
			e.printStackTrace();
		}
	}).start();

	bw.write("GET /springmvc/ HTTP/1.1\r\n");
	bw.write("HOST: localhost:8080\r\n");
	bw.write("Connection: keep-alive\r\n");
	bw.write("\r\n");
	bw.flush();

	bw.write("GET /springmvc/ HTTP/1.1\r\n");
	bw.write("HOST: localhost:8080\r\n");
	bw.write("Connection: close\r\n");
	bw.write("\r\n");
	bw.flush();
}
```
