# 32.迭代器模式

## 32.1 从Iterable接口说起

  在Java中的集合类接口有Set、List、Map、Queue，而这些接口的子类不计其数。以List接口为例，常用的实现类有：ArrayList、LinkedList、Stack、Vector。每个List子类实现的方式各不一样，ArrayList使用数组，LinkedList使用链表，Stack和Vector可以数组，甚至有些其他的集合类使用混合的数据结构。

  为了对外隐藏集合类的实现方式，保持良好的封装性，必须要统一这些集合类的迭代接口。同时调用者也无效关心集合类的底层实现方式，使用统一的接口即可对集合进行迭代。
  
  这不禁让人想到Java的`Iterable`接口，这也是迭代器模式在JDK中的经典实例。

## 32.2 ArrayList实现Iterable接口

Iterable.java 实现：
```Java
public interface Iterable<T> {
    Iterator<T> iterator();
}
```
Iterator.java 实现
```Java
public interface Iterator<E> {
    boolean hasNext();
    E next();
}
```
ArrayList.java 实现 Iterable接口
```Java
  @Override
  public Iterator<T> iterator() {
    return new ArrayListIterator();
	}
```

ArrayListIterator.java 实现
```

```

为了减少类文件和易于维护，我们通常把ArrayListIterator.java作为ArrayList的内部类，或者在ArrayList的iterator方法中世界采用匿名内部类，这里我们使用的内部类。
